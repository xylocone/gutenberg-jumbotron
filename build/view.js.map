{"version":3,"file":"view.js","mappings":";;;;;AAAA,CAAC,YAAY;EACZA,MAAM,CAACC,MAAP,GAAgB,MAAM;IACrB,MAAMC,UAAU,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,2BAA1B,CAAnB;IAA0E;;IAE1E,KAAK,MAAMC,SAAX,IAAwBH,UAAxB,EAAoC;MACnC,MAAMI,UAAU,GAAGD,SAAS,CAACE,aAAV,CAAwB,yBAAxB,CAAnB;MACA,MAAMC,QAAQ,GAAGH,SAAS,CAACD,gBAAV,CAA2B,qBAA3B,CAAjB;;MAEA,KAAK,MAAMK,OAAX,IAAsBD,QAAtB,EAAgC;QAC/BC,OAAO,CAACF,aAAR,CAAsB,sBAAtB,EAA8CG,gBAA9C,CAA+D,OAA/D,EAAwE,MAAMC,kBAAkB,CAACF,OAAD,CAAhG;MACA;;MAEDJ,SAAS,CAACK,gBAAV,CAA2B,eAA3B,EAA4C,MAAML,SAAS,CAACO,SAAV,CAAoBC,GAApB,CAAwB,mBAAxB,CAAlD;MACAR,SAAS,CAACK,gBAAV,CAA2B,eAA3B,EAA4C,MAAML,SAAS,CAACO,SAAV,CAAoBE,MAApB,CAA2B,mBAA3B,CAAlD;MACAR,UAAU,CAACI,gBAAX,CAA4B,OAA5B,EAAqCK,qBAArC;;MAEA,eAAeJ,kBAAf,CAAkCF,OAAlC,EAA2C;QAC1CJ,SAAS,CAACW,aAAV,CAAwB,IAAIC,KAAJ,CAAU,eAAV,CAAxB;QACAR,OAAO,CAACG,SAAR,CAAkBC,GAAlB,CAAsB,WAAtB;QAEA,MAAMK,cAAc,GAAGT,OAAO,CAACF,aAAR,CAAsB,mBAAtB,CAAvB;;QAEA,IAAIW,cAAc,CAACC,SAAf,IAA4B,EAAhC,EAAoC;UACnCD,cAAc,CAACN,SAAf,CAAyBC,GAAzB,CAA6B,oBAA7B;UACA;QACA;;QAED,MAAMO,iBAAiB,GAAGF,cAAc,CAACG,YAAf,CAA4B,aAA5B,CAA1B;QACA,MAAMC,cAAc,GAAG,MAAMC,YAAY,CAACH,iBAAD,CAAzC;QACAF,cAAc,CAACC,SAAf,GAA2BG,cAA3B;QACAJ,cAAc,CAACN,SAAf,CAAyBC,GAAzB,CAA6B,oBAA7B;MACA;;MAED,SAASE,qBAAT,GAAiC;QAChCV,SAAS,CAACW,aAAV,CAAwB,IAAIC,KAAJ,CAAU,eAAV,CAAxB;QACA,MAAMR,OAAO,GAAGe,KAAK,CAACC,IAAN,CAAWjB,QAAX,EAAqBkB,MAArB,CAA4BjB,OAAO,IAAIA,OAAO,CAACG,SAAR,CAAkBe,QAAlB,CAA2B,WAA3B,CAAvC,EAAgF,CAAhF,CAAhB;QACAlB,OAAO,CAACG,SAAR,CAAkBE,MAAlB,CAAyB,WAAzB;QACAL,OAAO,CAACF,aAAR,CAAsB,mBAAtB,EAA2CK,SAA3C,CAAqDE,MAArD,CAA4D,oBAA5D;MACA;;MAED,eAAeS,YAAf,CAA4BK,IAA5B,EAAkC;QACjC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,6BAA4BF,IAAK,kBAAnC,CAA5B;QACA,OAAO,CAAC,MAAMC,QAAQ,CAACE,IAAT,EAAP,EAAwB,CAAxB,EAA2BC,OAA3B,CAAmCC,QAA1C;MACA;IACD;EACD,CA5CD;AA8CA,CA/CD,I","sources":["webpack://jumbotron/./src/view.js"],"sourcesContent":["(function () {\r\n\twindow.onload = () => {\r\n\t\tconst jumbotrons = document.querySelectorAll(\".wp-block-blaze-jumbotron\");;\r\n\r\n\t\tfor (const jumbotron of jumbotrons) {\r\n\t\t\tconst backButton = jumbotron.querySelector(\".jumbotron__back-button\");\r\n\t\t\tconst sections = jumbotron.querySelectorAll(\".section__container\");\r\n\r\n\t\t\tfor (const section of sections) {\r\n\t\t\t\tsection.querySelector(\".section__background\").addEventListener(\"click\", () => handleSectionClick(section))\r\n\t\t\t}\r\n\r\n\t\t\tjumbotron.addEventListener(\"sectionOpened\", () => jumbotron.classList.add(\"is-section-opened\"));\r\n\t\t\tjumbotron.addEventListener(\"sectionClosed\", () => jumbotron.classList.remove(\"is-section-opened\"));\r\n\t\t\tbackButton.addEventListener(\"click\", handleBackButtonClick);\r\n\r\n\t\t\tasync function handleSectionClick(section) {\r\n\t\t\t\tjumbotron.dispatchEvent(new Event(\"sectionOpened\"));\r\n\t\t\t\tsection.classList.add(\"is-opened\");\r\n\r\n\t\t\t\tconst contentElement = section.querySelector(\".section__content\");\r\n\r\n\t\t\t\tif (contentElement.innerHTML != \"\") {\r\n\t\t\t\t\tcontentElement.classList.add(\"is-content-visible\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst contentSourceSlug = contentElement.getAttribute(\"data-source\");\r\n\t\t\t\tconst fetchedContent = await fetchContent(contentSourceSlug);\r\n\t\t\t\tcontentElement.innerHTML = fetchedContent;\r\n\t\t\t\tcontentElement.classList.add(\"is-content-visible\");\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleBackButtonClick() {\r\n\t\t\t\tjumbotron.dispatchEvent(new Event(\"sectionClosed\"));\r\n\t\t\t\tconst section = Array.from(sections).filter(section => section.classList.contains(\"is-opened\"))[0];\r\n\t\t\t\tsection.classList.remove(\"is-opened\")\r\n\t\t\t\tsection.querySelector(\".section__content\").classList.remove(\"is-content-visible\")\r\n\t\t\t}\r\n\r\n\t\t\tasync function fetchContent(slug) {\r\n\t\t\t\tconst response = await fetch(`/wp-json/wp/v2/pages?slug=${slug}&_fields=content`)\r\n\t\t\t\treturn (await response.json())[0].content.rendered;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n})();\r\n"],"names":["window","onload","jumbotrons","document","querySelectorAll","jumbotron","backButton","querySelector","sections","section","addEventListener","handleSectionClick","classList","add","remove","handleBackButtonClick","dispatchEvent","Event","contentElement","innerHTML","contentSourceSlug","getAttribute","fetchedContent","fetchContent","Array","from","filter","contains","slug","response","fetch","json","content","rendered"],"sourceRoot":""}